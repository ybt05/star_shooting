#include "main.h"
#include <ncurses.h>
#include <unistd.h>

void draw_box(void) {
    int x, y;
    int left = 10;
    int right = 810;
    int top = 5;
    int bottom = 105;

    for (x = left; x <= right; x++) {
        mvaddch(top, x, ' ' | COLOR_PAIR(WHITE));
    }
    for (x = left; x <= right; x++) {
        mvaddch(bottom, x, ' ' | COLOR_PAIR(WHITE));
    }
    for (y = top; y <= bottom; y++) {
        mvaddch(y, left, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, left + 1, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, left + 2, ' ' | COLOR_PAIR(WHITE));
    }
    for (y = top; y <= bottom; y++) {
        mvaddch(y, right, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, right + 1, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, right + 2, ' ' | COLOR_PAIR(WHITE));
    }
    for (x = right + 1; x < right + 100; x++) {
        for (y = top; y <= bottom; y++) {
            mvaddch(y, x, ' ' | COLOR_PAIR(BLACK));
        }
    }
}

void draw_cursor(int flag) {
    int x, y;
    int left = 0;
    int right = 0;
    int top = 0;
    int bottom = 0;
    if (flag == 1) {
        left = 294;
        right = 515;
        top = 48;
        bottom = 62;
    }
    if (flag == 2) {
        left = 294;
        right = 515;
        top = 66;
        bottom = 80;
    }
    if (flag == 3) {
        left = 294;
        right = 515;
        top = 84;
        bottom = 98;
    }
    for (x = left; x <= right; x++) {
        mvaddch(top, x, ' ' | COLOR_PAIR(WHITE));
    }
    for (x = left; x <= right; x++) {
        mvaddch(bottom, x, ' ' | COLOR_PAIR(WHITE));
    }
    for (y = top; y <= bottom; y++) {
        mvaddch(y, left, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, left + 1, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, left + 2, ' ' | COLOR_PAIR(WHITE));
    }
    for (y = top; y <= bottom; y++) {
        mvaddch(y, right, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, right + 1, ' ' | COLOR_PAIR(WHITE));
        mvaddch(y, right + 2, ' ' | COLOR_PAIR(WHITE));
    }
}

void draw_score(void) {
    if (player.score > 99999) {
        player.score = 99999;
    }
    attrset(COLOR_PAIR(BLACK));
    int mag = 10000;
    for (int k = 0; k < 5; k++) {
        if (player.score / mag % 10 == 1) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n1[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 2) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n2[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 3) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n3[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 4) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n4[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 5) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n5[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 6) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n6[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 7) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n7[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 8) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n8[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 9) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n9[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        if (player.score / mag % 10 == 0) {
            for (int i = 0; i < 5; i++) {
                for (int j = 0; j < 6; j++) {
                    if (n0[i][j] == 1) {
                        for (int dy = 0; dy < 1; dy++) {
                            for (int dx = 0; dx < 3; dx++) {
                                mvaddch(70 + i + dy, 400 + j * 3 + dx + k * 25, ' ');
                            }
                        }
                    }
                }
            }
        }
        mag /= 10;
    }
}

int aa[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
};
int ii[5][6] = {
    {0, 0, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 1, 0, 0, 0},
    {1, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
};
int uu[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {0, 1, 1, 0, 0, 0},
};
int ee[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
};
int oo[5][6] = {
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 1, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {1, 0, 0, 1, 0, 0},
};
int ka[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 1, 0},
    {0, 1, 0, 0, 1, 0},
    {0, 1, 0, 0, 1, 0},
};
int ki[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
};
int ku[5][6] = {
    {0, 0, 1, 1, 1, 0},
    {0, 1, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int ke[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {0, 1, 1, 1, 1, 0},
    {1, 0, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
};
int ko[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int shi[5][6] = {
    {1, 1, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int su[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {1, 0, 0, 0, 1, 0},
};
int ta[5][6] = {
    {0, 0, 1, 1, 1, 0},
    {0, 1, 0, 0, 1, 0},
    {1, 0, 1, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int te[5][6] = {
    {0, 1, 1, 1, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
};
int to[5][6] = {
    {0, 1, 0, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
    {0, 1, 1, 0, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 0, 0, 0},
};
int doo[5][6] = {
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 1, 0, 0},
    {1, 1, 0, 0, 0, 0},
    {1, 0, 1, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
};
int ni[5][6] = {
    {0, 0, 0, 0, 0, 0},
    {0, 1, 1, 1, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 0, 0},
};
int no[5][6] = {
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 1, 0, 0, 0, 0},
};
int ha[5][6] = {
    {0, 0, 0, 0, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
};
int hu[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int ho[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0},
};
int ma[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 0, 1, 0, 0},
};
int mu[5][6] = {
    {0, 0, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 0, 1},
};
int mo[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 1, 1, 0},
};
int xyu[5][6] = {
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {0, 1, 1, 1, 0, 0},
    {0, 0, 0, 1, 0, 0},
    {0, 1, 1, 1, 1, 0},
};
int xyo[5][6] = {
    {0, 0, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 1, 1, 1, 0},
};
int ri[5][6] = {
    {0, 1, 0, 0, 1, 0},
    {0, 1, 0, 0, 1, 0},
    {0, 1, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
};
int ru[5][6] = {
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 1, 0, 1},
    {1, 0, 0, 1, 1, 0},
    {1, 0, 0, 1, 0, 0},
};
int re[5][6] = {
    {0, 1, 0, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
    {0, 1, 0, 0, 1, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 1, 0, 0, 0},
};
int ro[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int nn[5][6] = {
    {0, 0, 0, 0, 1, 0},
    {1, 1, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int dakuon[5][6] = {
    {0, 1, 0, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
};
int handakuon[5][6] = {
    {0, 1, 0, 0, 0, 0},
    {1, 0, 1, 0, 0, 0},
    {0, 1, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
};
int nobasibou[5][6] = {
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0},
};
int n1[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
};
int n2[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
};
int n3[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int n4[5][6] = {
    {1, 0, 0, 1, 0, 0},
    {1, 0, 0, 1, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 1, 0, 0},
    {0, 0, 0, 1, 0, 0},
};
int n5[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int n6[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int n7[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {0, 0, 0, 0, 1, 0},
};
int n8[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int n9[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};
int n0[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
};

int LL[5][6] = {
    {1, 0, 0, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 0, 0},
};
int VV[5][6] = {
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
};
int HH[5][6] = {
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 0, 0, 0, 1, 0},
};
int PP[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 0, 0, 0, 0, 0},
};
int EE[5][6] = {
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
};
int XX[5][6] = {
    {1, 0, 0, 0, 1, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {1, 0, 0, 0, 1, 0},
};
int AA[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {0, 1, 0, 1, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {1, 0, 0, 0, 1, 0},
};
int BB[5][6] = {
    {1, 1, 1, 0, 0, 0},
    {1, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
    {1, 0, 0, 1, 0, 0},
    {1, 1, 1, 0, 0, 0},
};
int MM[5][6] = {
    {1, 0, 0, 0, 1, 0},
    {1, 1, 0, 1, 1, 0},
    {1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0},
};
int plus[5][6] = {
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
    {1, 1, 1, 1, 1, 0},
    {0, 0, 1, 0, 0, 0},
    {0, 0, 1, 0, 0, 0},
};